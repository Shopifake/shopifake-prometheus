# Prometheus configuration for OpenTelemetry Collector integration
# Use with: helm install prometheus prometheus-community/prometheus -f values.yaml
# Override collector URL: helm install prometheus prometheus-community/prometheus -f values.yaml --set server.extraScrapeConfigs[0].static_configs[0].targets[0]="your-collector:8888"

server:
  image:
    repository: quay.io/prometheus/prometheus
    tag: latest
  
  retention: 15d
  persistentVolume:
    enabled: true
    size: 10Gi
  
  # Additional scrape config for OpenTelemetry Collector
  # Override target via: --set server.extraScrapeConfigs[0].static_configs[0].targets[0]="your-collector:8888"
  extraScrapeConfigs:
    - job_name: otel-collector
      scrape_interval: 15s
      metrics_path: /metrics
      static_configs:
        - targets:
            - "otel-collector.observability.svc.cluster.local:8888"

serverFiles:
  prometheus.yml:
    global:
      scrape_interval: 15s
      evaluation_interval: 15s
    
    scrape_configs:
      - job_name: prometheus
        static_configs:
          - targets:
              - localhost:9090

alertmanager:
  enabled: false

pushgateway:
  enabled: false
